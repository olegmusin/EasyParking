$(document).ready(function(){var t=$("#parking-layout"),i=$("#columns"),r=$("#rows"),n=[];$(".js-btn-layout").click(function(n){var u=$(n.target);$.get(`/parking/${u.attr("data-parking-moniker")}/layout/`,{columns:i.val(),rows:r.val()}).done(function(n){t.html(n)})});t.on("click",".js-btn-lot",function(){var t={};t.row=$(this).attr("data-row");t.column=$(this).attr("data-column");$(this).hasClass("lot")?$(this).removeClass("lot").addClass("lane").text("L"):$(this).addClass("lot").removeClass("lane").text("P");t.IsParkingAllowed=$(this).hasClass("lot");n.push(t);n=$.grep(n,n=>n.row===t.row&&n.column===t.column,!0);n.push(t)});$(".js-btn-save").click(function(t){var i=$(t.target);$.ajax({url:`/parking/${i.attr("data-parking-moniker")}/layout/save`,type:"POST",contentType:"application/json",data:JSON.stringify(n)})})});