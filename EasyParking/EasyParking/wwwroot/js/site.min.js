$(document).ready(function(){var t=$("#parking-layout"),i=$("#columns"),r=$("#rows"),n=[];$(".js-btn-layout").click(function(n){var u=$(n.target);$.get(`/api/parking/${u.attr("data-parking-moniker")}/CreateLayout/`,{columns:i.val(),rows:r.val()}).done(function(n){t.html(n);i.val(1);r.val(1)})});t.on("click",".js-btn-lot",function(){var t={};t.row=$(this).attr("data-row");t.column=$(this).attr("data-column");$(this).hasClass("lot")?$(this).removeClass("lot").addClass("lane").text("L"):$(this).addClass("lot").removeClass("lane").text("P");t.IsParkingAllowed=$(this).hasClass("lot");n.push(t);n=$.grep(n,n=>n.row===t.row&&n.column===t.column,!0);n.push(t)});$(".js-btn-save").click(function(i){var r=$(i.target);n.length>0&&$.ajax({url:`/api/parking/${r.attr("data-parking-moniker")}/SaveLayout`,type:"POST",contentType:"application/json",data:JSON.stringify(n),success:function(n){t.html(n)}})})});